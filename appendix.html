

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>API Reference &mdash; Zipline v0.8.3+170.g8abef95 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Zipline v0.8.3+170.g8abef95 documentation" href="index.html"/>
        <link rel="next" title="Zipline Release Process" href="release-process.html"/>
        <link rel="prev" title="Release Notes" href="releases.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> Zipline
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#installing-with-pip">Installing with <code class="docutils literal"><span class="pre">pip</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="install.html#gnu-linux">GNU/Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#osx">OSX</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#windows">Windows</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="install.html#installing-with-conda">Installing with <code class="docutils literal"><span class="pre">conda</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="beginner-tutorial.html">Zipline beginner tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="beginner-tutorial.html#basics">Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="beginner-tutorial.html#my-first-algorithm">My first algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="beginner-tutorial.html#running-the-algorithm">Running the algorithm</a><ul>
<li class="toctree-l3"><a class="reference internal" href="beginner-tutorial.html#command-line-interface">Command line interface</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="beginner-tutorial.html#ipython-notebook">IPython Notebook</a></li>
<li class="toctree-l2"><a class="reference internal" href="beginner-tutorial.html#manual-advanced">Manual (advanced)</a></li>
<li class="toctree-l2"><a class="reference internal" href="beginner-tutorial.html#access-to-previous-prices-using-history">Access to previous prices using <code class="docutils literal"><span class="pre">history</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="beginner-tutorial.html#working-example-dual-moving-average-cross-over">Working example: Dual Moving Average Cross-Over</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="beginner-tutorial.html#conclusions">Conclusions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="releases.html">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="releases.html#development">Development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="releases.html#highlights">Highlights</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#enhancements">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#experimental-features">Experimental Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#bug-fixes">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#performance">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#maintenance-and-refactorings">Maintenance and Refactorings</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#build">Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#documentation">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#release-0-8-3">Release 0.8.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#release-0-8-0">Release 0.8.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id1">Highlights</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id2">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id3">Experimental Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id4">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id5">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id6">Maintenance and Refactorings</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id7">Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id8">Documentation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#release-0-7-0">Release 0.7.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id9">Highlights</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id10">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id11">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id12">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id13">Maintenance and Refactorings</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id14">Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#contributors">Contributors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="releases.html#release-0-6-1">Release 0.6.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id15">Highlights</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id16">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id17">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id20">Performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id21">Maintenance and Refactorings</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id22">Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="releases.html#id23">Contributors</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#algorithm-api">Algorithm API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pipeline-api">Pipeline API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#asset-metadata">Asset Metadata</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="release-process.html">Zipline Release Process</a><ul>
<li class="toctree-l2"><a class="reference internal" href="release-process.html#updating-the-release-notes">Updating the Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-process.html#updating-the-version">Updating the <code class="docutils literal"><span class="pre">__version__</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="release-process.html#uploading-pypi-packages">Uploading PyPI packages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="release-process.html#sdist"><code class="docutils literal"><span class="pre">sdist</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="release-process.html#bdist"><code class="docutils literal"><span class="pre">bdist</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="release-process.html#documentation">Documentation</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Zipline</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>API Reference</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/appendix.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="algorithm-api">
<h2>Algorithm API<a class="headerlink" href="#algorithm-api" title="Permalink to this headline">¶</a></h2>
<p>The following methods are available for use in the <code class="docutils literal"><span class="pre">initialize</span></code>,
<code class="docutils literal"><span class="pre">handle_data</span></code>, and <code class="docutils literal"><span class="pre">before_trading_start</span></code> API functions.</p>
<p>In all listed functions, the <code class="docutils literal"><span class="pre">self</span></code> argument is implicitly the
currently-executing <a class="reference internal" href="#zipline.algorithm.TradingAlgorithm" title="zipline.algorithm.TradingAlgorithm"><code class="xref py py-class docutils literal"><span class="pre">TradingAlgorithm</span></code></a> instance.</p>
<span class="target" id="module-zipline.api"></span><dl class="attribute">
<dt id="zipline.api.batch_transform">
<code class="descclassname">zipline.api.</code><code class="descname">batch_transform</code><a class="reference internal" href="_modules/zipline/transforms/batch_transform.html#batch_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.api.batch_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal"><span class="pre">BatchTransform</span></code></p>
</dd></dl>

<dl class="function">
<dt id="zipline.api.add_transform">
<code class="descclassname">zipline.api.</code><code class="descname">add_transform</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.add_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensures that the history container will have enough size to service
a simple transform.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><dl class="first last docutils">
<dt>transform <span class="classifier-delimiter">:</span> <span class="classifier">string</span></dt>
<dd><p class="first last">The transform to add. must be an element of:
{&#8216;mavg&#8217;, &#8216;stddev&#8217;, &#8216;vwap&#8217;, &#8216;returns&#8217;}.</p>
</dd>
<dt>days <span class="classifier-delimiter">:</span> <span class="classifier">int &lt;default=None&gt;</span></dt>
<dd><p class="first last">The maximum amount of days you will want for this transform.
This is not needed for &#8216;returns&#8217;.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="zipline.api.schedule_function">
<code class="descclassname">zipline.api.</code><code class="descname">schedule_function</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.schedule_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Schedules a function to be called with some timed rules.</p>
</dd></dl>

<dl class="function">
<dt id="zipline.api.record">
<code class="descclassname">zipline.api.</code><code class="descname">record</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.record" title="Permalink to this definition">¶</a></dt>
<dd><p>Track and record local variable (i.e. attributes) each day.</p>
</dd></dl>

<dl class="function">
<dt id="zipline.api.symbol">
<code class="descclassname">zipline.api.</code><code class="descname">symbol</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.symbol" title="Permalink to this definition">¶</a></dt>
<dd><p>Default symbol lookup for any source that directly maps the
symbol to the Asset (e.g. yahoo finance).</p>
</dd></dl>

<dl class="function">
<dt id="zipline.api.symbols">
<code class="descclassname">zipline.api.</code><code class="descname">symbols</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.symbols" title="Permalink to this definition">¶</a></dt>
<dd><p>Default symbols lookup for any source that directly maps the
symbol to the Asset (e.g. yahoo finance).</p>
</dd></dl>

<dl class="function">
<dt id="zipline.api.sid">
<code class="descclassname">zipline.api.</code><code class="descname">sid</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.sid" title="Permalink to this definition">¶</a></dt>
<dd><p>Default sid lookup for any source that directly maps the integer sid
to the Asset.</p>
</dd></dl>

<dl class="function">
<dt id="zipline.api.future_symbol">
<code class="descclassname">zipline.api.</code><code class="descname">future_symbol</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.future_symbol" title="Permalink to this definition">¶</a></dt>
<dd><p>Lookup a futures contract with a given symbol.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>symbol</strong> : str</p>
<blockquote>
<div><p>The symbol of the desired contract.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Future</p>
<blockquote>
<div><p>A Future object.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><strong>SymbolNotFound</strong></p>
<blockquote class="last">
<div><p>Raised when no contract named &#8216;symbol&#8217; is found.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="zipline.api.future_chain">
<code class="descclassname">zipline.api.</code><code class="descname">future_chain</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.future_chain" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up a future chain with the specified parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>root_symbol</strong> : str</p>
<blockquote>
<div><p>The root symbol of a future chain.</p>
</div></blockquote>
<p><strong>as_of_date</strong> : datetime.datetime or pandas.Timestamp or str, optional</p>
<blockquote>
<div><p>Date at which the chain determination is rooted. I.e. the
existing contract whose notice date is first after this date is
the primary contract, etc.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">FutureChain</p>
<blockquote>
<div><p>The future chain matching the specified parameters.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><strong>RootSymbolNotFound</strong></p>
<blockquote class="last">
<div><p>If a future chain could not be found for the given root symbol.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="zipline.api.order">
<code class="descclassname">zipline.api.</code><code class="descname">order</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.order" title="Permalink to this definition">¶</a></dt>
<dd><p>Place an order using the specified parameters.</p>
</dd></dl>

<dl class="function">
<dt id="zipline.api.order_value">
<code class="descclassname">zipline.api.</code><code class="descname">order_value</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.order_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Place an order by desired value rather than desired number of shares.
If the requested sid is found in the universe, the requested value is
divided by its price to imply the number of shares to transact.
If the Asset being ordered is a Future, the &#8216;value&#8217; calculated
is actually the exposure, as Futures have no &#8216;value&#8217;.</p>
<p>value &gt; 0 :: Buy/Cover
value &lt; 0 :: Sell/Short
Market order:    order(sid, value)
Limit order:     order(sid, value, limit_price)
Stop order:      order(sid, value, None, stop_price)
StopLimit order: order(sid, value, limit_price, stop_price)</p>
</dd></dl>

<dl class="function">
<dt id="zipline.api.get_datetime">
<code class="descclassname">zipline.api.</code><code class="descname">get_datetime</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.get_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the simulation datetime.</p>
</dd></dl>

<dl class="function">
<dt id="zipline.api.set_symbol_lookup_date">
<code class="descclassname">zipline.api.</code><code class="descname">set_symbol_lookup_date</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.set_symbol_lookup_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the date for which symbols will be resolved to their sids
(symbols may map to different firms or underlying assets at
different times)</p>
</dd></dl>

<dl class="function">
<dt id="zipline.api.order_percent">
<code class="descclassname">zipline.api.</code><code class="descname">order_percent</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.order_percent" title="Permalink to this definition">¶</a></dt>
<dd><p>Place an order in the specified asset corresponding to the given
percent of the current portfolio value.</p>
<p>Note that percent must expressed as a decimal (0.50 means 50%).</p>
</dd></dl>

<dl class="function">
<dt id="zipline.api.order_target">
<code class="descclassname">zipline.api.</code><code class="descname">order_target</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.order_target" title="Permalink to this definition">¶</a></dt>
<dd><p>Place an order to adjust a position to a target number of shares. If
the position doesn&#8217;t already exist, this is equivalent to placing a new
order. If the position does exist, this is equivalent to placing an
order for the difference between the target number of shares and the
current number of shares.</p>
</dd></dl>

<dl class="function">
<dt id="zipline.api.order_target_value">
<code class="descclassname">zipline.api.</code><code class="descname">order_target_value</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.order_target_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Place an order to adjust a position to a target value. If
the position doesn&#8217;t already exist, this is equivalent to placing a new
order. If the position does exist, this is equivalent to placing an
order for the difference between the target value and the
current value.
If the Asset being ordered is a Future, the &#8216;target value&#8217; calculated
is actually the target exposure, as Futures have no &#8216;value&#8217;.</p>
</dd></dl>

<dl class="function">
<dt id="zipline.api.order_target_percent">
<code class="descclassname">zipline.api.</code><code class="descname">order_target_percent</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.order_target_percent" title="Permalink to this definition">¶</a></dt>
<dd><p>Place an order to adjust a position to a target percent of the
current portfolio value. If the position doesn&#8217;t already exist, this is
equivalent to placing a new order. If the position does exist, this is
equivalent to placing an order for the difference between the target
percent and the current percent.</p>
<p>Note that target must expressed as a decimal (0.50 means 50%).</p>
</dd></dl>

<dl class="function">
<dt id="zipline.api.set_max_leverage">
<code class="descclassname">zipline.api.</code><code class="descname">set_max_leverage</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.set_max_leverage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a limit on the maximum leverage of the algorithm.</p>
</dd></dl>

<dl class="function">
<dt id="zipline.api.set_max_position_size">
<code class="descclassname">zipline.api.</code><code class="descname">set_max_position_size</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.set_max_position_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a limit on the number of shares and/or dollar value held for the
given sid. Limits are treated as absolute values and are enforced at
the time that the algo attempts to place an order for sid. This means
that it&#8217;s possible to end up with more than the max number of shares
due to splits/dividends, and more than the max notional due to price
improvement.</p>
<p>If an algorithm attempts to place an order that would result in
increasing the absolute value of shares/dollar value exceeding one of
these limits, raise a TradingControlException.</p>
</dd></dl>

<dl class="function">
<dt id="zipline.api.set_max_order_size">
<code class="descclassname">zipline.api.</code><code class="descname">set_max_order_size</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.set_max_order_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a limit on the number of shares and/or dollar value of any single
order placed for sid.  Limits are treated as absolute values and are
enforced at the time that the algo attempts to place an order for sid.</p>
<p>If an algorithm attempts to place an order that would result in
exceeding one of these limits, raise a TradingControlException.</p>
</dd></dl>

<dl class="function">
<dt id="zipline.api.set_max_order_count">
<code class="descclassname">zipline.api.</code><code class="descname">set_max_order_count</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.set_max_order_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a limit on the number of orders that can be placed within the given
time interval.</p>
</dd></dl>

<dl class="function">
<dt id="zipline.api.set_do_not_order_list">
<code class="descclassname">zipline.api.</code><code class="descname">set_do_not_order_list</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.set_do_not_order_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a restriction on which sids can be ordered.</p>
</dd></dl>

<dl class="function">
<dt id="zipline.api.set_long_only">
<code class="descclassname">zipline.api.</code><code class="descname">set_long_only</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.set_long_only" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a rule specifying that this algorithm cannot take short positions.</p>
</dd></dl>

<dl class="function">
<dt id="zipline.api.attach_pipeline">
<code class="descclassname">zipline.api.</code><code class="descname">attach_pipeline</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.attach_pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a pipeline to be computed at the start of each day.</p>
</dd></dl>

<dl class="function">
<dt id="zipline.api.pipeline_output">
<code class="descclassname">zipline.api.</code><code class="descname">pipeline_output</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.api.pipeline_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the results of pipeline with name <cite>name</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>name</strong> : str</p>
<blockquote>
<div><p>Name of the pipeline for which results are requested.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>results</strong> : pd.DataFrame</p>
<blockquote>
<div><p>DataFrame containing the results of the requested pipeline for
the current simulation date.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><strong>NoSuchPipeline</strong></p>
<blockquote class="last">
<div><p>Raised when no pipeline with the name <cite>name</cite> has been registered.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-meth docutils literal"><span class="pre">zipline.pipeline.engine.PipelineEngine.run_pipeline()</span></code></p>
</div>
</dd></dl>

<dl class="class">
<dt id="zipline.algorithm.TradingAlgorithm">
<em class="property">class </em><code class="descclassname">zipline.algorithm.</code><code class="descname">TradingAlgorithm</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/algorithm.html#TradingAlgorithm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.algorithm.TradingAlgorithm" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for trading algorithms. Inherit and overload
initialize() and handle_data(data).</p>
<p>A new algorithm could look like this:
<a href="#id1"><span class="problematic" id="id2">``</span></a>`
from zipline.api import order, symbol</p>
<dl class="docutils">
<dt>def initialize(context):</dt>
<dd>context.sid = symbol(&#8216;AAPL&#8217;)
context.amount = 100</dd>
<dt>def handle_data(context, data):</dt>
<dd>sid = context.sid
amount = context.amount
order(sid, amount)</dd>
</dl>
<p><a href="#id3"><span class="problematic" id="id4">``</span></a>`
To then to run this algorithm pass these functions to
TradingAlgorithm:</p>
<p>my_algo = TradingAlgorithm(initialize, handle_data)
stats = my_algo.run(data)</p>
</dd></dl>

</div>
<div class="section" id="pipeline-api">
<h2>Pipeline API<a class="headerlink" href="#pipeline-api" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="zipline.pipeline.Pipeline">
<em class="property">class </em><code class="descclassname">zipline.pipeline.</code><code class="descname">Pipeline</code><span class="sig-paren">(</span><em>columns=None</em>, <em>screen=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/pipeline.html#Pipeline"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.Pipeline" title="Permalink to this definition">¶</a></dt>
<dd><p>A Pipeline object represents a collection of named expressions to be
compiled and executed by a PipelineEngine.</p>
<p>A Pipeline has two important attributes: &#8216;columns&#8217;, a dictionary of named
<cite>Term</cite> instances, and &#8216;screen&#8217;, a Filter representing criteria for
including an asset in the results of a Pipeline.</p>
<p>To compute a pipeline in the context of a TradingAlgorithm, users must call
<code class="docutils literal"><span class="pre">attach_pipeline</span></code> in their <code class="docutils literal"><span class="pre">initialize</span></code> function to register that the
pipeline should be computed each trading day.  The outputs of a pipeline on
a given day can be accessed by calling <code class="docutils literal"><span class="pre">pipeline_output</span></code> in
<code class="docutils literal"><span class="pre">handle_data</span></code> or <code class="docutils literal"><span class="pre">before_trading_start</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>columns</strong> : dict, optional</p>
<blockquote>
<div><p>Initial columns.</p>
</div></blockquote>
<p><strong>screen</strong> : zipline.pipeline.term.Filter, optional</p>
<blockquote class="last">
<div><p>Initial screen.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="zipline.pipeline.Pipeline.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>term</em>, <em>name</em>, <em>overwrite=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/pipeline.html#Pipeline.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.Pipeline.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a column.</p>
<p>The results of computing <cite>term</cite> will show up as a column in the
DataFrame produced by running this pipeline.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>column</strong> : zipline.pipeline.Term</p>
<blockquote>
<div><p>A Filter, Factor, or Classifier to add to the pipeline.</p>
</div></blockquote>
<p><strong>name</strong> : str</p>
<blockquote>
<div><p>Name of the column to add.</p>
</div></blockquote>
<p><strong>overwrite</strong> : bool</p>
<blockquote class="last">
<div><p>Whether to overwrite the existing entry if we already have a column
named <cite>name</cite>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.Pipeline.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/pipeline.html#Pipeline.remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.Pipeline.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a column.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>name</strong> : str</p>
<blockquote>
<div><p>The name of the column to remove.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>removed</strong> : zipline.pipeline.term.Term</p>
<blockquote>
<div><p>The removed term.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><strong>KeyError</strong></p>
<blockquote class="last">
<div><p>If <cite>name</cite> is not in self.columns.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.Pipeline.set_screen">
<code class="descname">set_screen</code><span class="sig-paren">(</span><em>screen</em>, <em>overwrite=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/pipeline.html#Pipeline.set_screen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.Pipeline.set_screen" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a screen on this Pipeline.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>filter</strong> : zipline.pipeline.Filter</p>
<blockquote>
<div><p>The filter to apply as a screen.</p>
</div></blockquote>
<p><strong>overwrite</strong> : bool</p>
<blockquote class="last">
<div><p>Whether to overwrite any existing screen.  If overwrite is False
and self.screen is not None, we raise an error.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.Pipeline.show_graph">
<code class="descname">show_graph</code><span class="sig-paren">(</span><em>format='svg'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/pipeline.html#Pipeline.show_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.Pipeline.show_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Render this Pipeline as a DAG.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>format</strong> : {&#8216;svg&#8217;, &#8216;png&#8217;, &#8216;jpeg&#8217;}</p>
<blockquote class="last">
<div><p>Image format to render with.  Default is &#8216;svg&#8217;.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.Pipeline.to_graph">
<code class="descname">to_graph</code><span class="sig-paren">(</span><em>screen_name</em>, <em>default_screen</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/pipeline.html#Pipeline.to_graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.Pipeline.to_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Compile into a TermGraph.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>screen_name</strong> : str</p>
<blockquote>
<div><p>Name to supply for self.screen.</p>
</div></blockquote>
<p><strong>default_screen</strong> : zipline.pipeline.term.Term</p>
<blockquote class="last">
<div><p>Term to use as a screen if self.screen is None.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="zipline.pipeline.Pipeline.columns">
<code class="descname">columns</code><a class="headerlink" href="#zipline.pipeline.Pipeline.columns" title="Permalink to this definition">¶</a></dt>
<dd><p>The columns registered with this pipeline.</p>
</dd></dl>

<dl class="attribute">
<dt id="zipline.pipeline.Pipeline.screen">
<code class="descname">screen</code><a class="headerlink" href="#zipline.pipeline.Pipeline.screen" title="Permalink to this definition">¶</a></dt>
<dd><p>The screen applied to the rows of this pipeline.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zipline.pipeline.CustomFactor">
<em class="property">class </em><code class="descclassname">zipline.pipeline.</code><code class="descname">CustomFactor</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/factors/factor.html#CustomFactor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.CustomFactor" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for user-defined Factors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>inputs</strong> : iterable, optional</p>
<blockquote>
<div><p>An iterable of <cite>BoundColumn</cite> instances (e.g. USEquityPricing.close),
describing the data to load and pass to <cite>self.compute</cite>.  If this
argument is passed to the CustomFactor constructor, we look for a
class-level attribute named <cite>inputs</cite>.</p>
</div></blockquote>
<p><strong>window_length</strong> : int, optional</p>
<blockquote class="last">
<div><p>Number of rows to pass for each input.  If this argument is not passed
to the CustomFactor constructor, we look for a class-level attribute
named <cite>window_length</cite>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Users implementing their own Factors should subclass CustomFactor and
implement a method named <cite>compute</cite> with the following signature:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">compute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">today</span><span class="p">,</span> <span class="n">assets</span><span class="p">,</span> <span class="n">out</span><span class="p">,</span> <span class="o">*</span><span class="n">inputs</span><span class="p">):</span>
   <span class="o">...</span>
</pre></div>
</div>
<p>On each simulation date, <code class="docutils literal"><span class="pre">compute</span></code> will be called with the current date,
an array of sids, an output array, and an input array for each expression
passed as inputs to the CustomFactor constructor.</p>
<p>The specific types of the values passed to <cite>compute</cite> are as follows:</p>
<div class="highlight-python"><div class="highlight"><pre>today : np.datetime64[ns]
    Row label for the last row of all arrays passed as `inputs`.
assets : np.array[int64, ndim=1]
    Column labels for `out` and`inputs`.
out : np.array[self.dtype, ndim=1]
    Output array of the same shape as `assets`.  `compute` should write
    its desired return values into `out`.
*inputs : tuple of np.array
    Raw data arrays corresponding to the values of `self.inputs`.
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">compute</span></code> functions should expect to be passed NaN values for dates on
which no data was available for an asset.  This may include dates on which
an asset did not yet exist.</p>
<p>For example, if a CustomFactor requires 10 rows of close price data, and
asset A started trading on Monday June 2nd, 2014, then on Tuesday, June
3rd, 2014, the column of input data for asset A will have 9 leading NaNs
for the preceding days on which data was not yet available.</p>
<p class="rubric">Examples</p>
<p>A CustomFactor with pre-declared defaults:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">TenDayRange</span><span class="p">(</span><span class="n">CustomFactor</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the difference between the highest high in the last 10</span>
<span class="sd">    days and the lowest low.</span>

<span class="sd">    Pre-declares high and low as default inputs and `window_length` as</span>
<span class="sd">    10.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">inputs</span> <span class="o">=</span> <span class="p">[</span><span class="n">USEquityPricing</span><span class="o">.</span><span class="n">high</span><span class="p">,</span> <span class="n">USEquityPricing</span><span class="o">.</span><span class="n">low</span><span class="p">]</span>
    <span class="n">window_length</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="k">def</span> <span class="nf">compute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">today</span><span class="p">,</span> <span class="n">assets</span><span class="p">,</span> <span class="n">out</span><span class="p">,</span> <span class="n">highs</span><span class="p">,</span> <span class="n">lows</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">nanmin</span><span class="p">,</span> <span class="n">nanmax</span>

        <span class="n">highest_highs</span> <span class="o">=</span> <span class="n">nanmax</span><span class="p">(</span><span class="n">highs</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">lowest_lows</span> <span class="o">=</span> <span class="n">nanmin</span><span class="p">(</span><span class="n">lows</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">out</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">highest_highs</span> <span class="o">-</span> <span class="n">lowest_lows</span>

<span class="c"># Doesn&#39;t require passing inputs or window_length because they&#39;re</span>
<span class="c"># pre-declared as defaults for the TenDayRange class.</span>
<span class="n">ten_day_range</span> <span class="o">=</span> <span class="n">TenDayRange</span><span class="p">()</span>
</pre></div>
</div>
<p>A CustomFactor without defaults:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MedianValue</span><span class="p">(</span><span class="n">CustomFactor</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the median value of an arbitrary single input over an</span>
<span class="sd">    arbitrary window..</span>

<span class="sd">    Does not declare any defaults, so values for `window_length` and</span>
<span class="sd">    `inputs` must be passed explicitly on every construction.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">compute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">today</span><span class="p">,</span> <span class="n">assets</span><span class="p">,</span> <span class="n">out</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">nanmedian</span>
        <span class="n">out</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">nanmedian</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c"># Values for `inputs` and `window_length` must be passed explicitly to</span>
<span class="c"># MedianValue.</span>
<span class="n">median_close10</span> <span class="o">=</span> <span class="n">MedianValue</span><span class="p">([</span><span class="n">USEquityPricing</span><span class="o">.</span><span class="n">close</span><span class="p">],</span> <span class="n">window_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">median_low15</span> <span class="o">=</span> <span class="n">MedianValue</span><span class="p">([</span><span class="n">USEquityPricing</span><span class="o">.</span><span class="n">low</span><span class="p">],</span> <span class="n">window_length</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="zipline.pipeline.factors.Factor">
<em class="property">class </em><code class="descclassname">zipline.pipeline.factors.</code><code class="descname">Factor</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/factors/factor.html#Factor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.factors.Factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Pipeline API expression producing numerically-valued outputs.</p>
<dl class="method">
<dt id="zipline.pipeline.factors.Factor.eq">
<code class="descname">eq</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.pipeline.factors.Factor.eq" title="Permalink to this definition">¶</a></dt>
<dd><p>Binary Operator: &#8216;==&#8217;</p>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.factors.Factor.rank">
<code class="descname">rank</code><span class="sig-paren">(</span><em>method='ordinal'</em>, <em>ascending=True</em>, <em>mask=sentinel('NotSpecified')</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/factors/factor.html#Factor.rank"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.factors.Factor.rank" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new Factor representing the sorted rank of each column
within each row.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>method</strong> : str, {&#8216;ordinal&#8217;, &#8216;min&#8217;, &#8216;max&#8217;, &#8216;dense&#8217;, &#8216;average&#8217;}</p>
<blockquote>
<div><p>The method used to assign ranks to tied elements. See
<cite>scipy.stats.rankdata</cite> for a full description of the semantics for
each ranking method. Default is &#8216;ordinal&#8217;.</p>
</div></blockquote>
<p><strong>ascending</strong> : bool, optional</p>
<blockquote>
<div><p>Whether to return sorted rank in ascending or descending order.
Default is True.</p>
</div></blockquote>
<p><strong>mask</strong> : zipline.pipeline.Filter, optional</p>
<blockquote>
<div><p>A Filter representing assets to consider when computing ranks.
If mask is supplied, ranks are computed ignoring any asset/date
pairs for which <cite>mask</cite> produces a value of False.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>ranks</strong> : zipline.pipeline.factors.Rank</p>
<blockquote class="last">
<div><p>A new factor that will compute the ranking of the data produced by
<cite>self</cite>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.rankdata.html#scipy.stats.rankdata" title="(in SciPy v0.16.1)"><code class="xref py py-obj docutils literal"><span class="pre">scipy.stats.rankdata</span></code></a>, <code class="xref py py-obj docutils literal"><span class="pre">zipline.lib.rank.masked_rankdata_2d</span></code>, <code class="xref py py-obj docutils literal"><span class="pre">zipline.pipeline.factors.factor.Rank</span></code></p>
</div>
<p class="rubric">Notes</p>
<p>The default value for <cite>method</cite> is different from the default for
<cite>scipy.stats.rankdata</cite>.  See that function&#8217;s documentation for a full
description of the valid inputs to <cite>method</cite>.</p>
<p>Missing or non-existent data on a given day will cause an asset to be
given a rank of NaN for that day.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.factors.Factor.top">
<code class="descname">top</code><span class="sig-paren">(</span><em>N</em>, <em>mask=sentinel('NotSpecified')</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/factors/factor.html#Factor.top"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.factors.Factor.top" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a Filter matching the top N asset values of self each day.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>N</strong> : int</p>
<blockquote>
<div><p>Number of assets passing the returned filter each day.</p>
</div></blockquote>
<p><strong>mask</strong> : zipline.pipeline.Filter, optional</p>
<blockquote>
<div><p>A Filter representing assets to consider when computing ranks.
If mask is supplied, top values are computed ignoring any
asset/date pairs for which <cite>mask</cite> produces a value of False.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>filter</strong> : zipline.pipeline.filters.Filter</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.factors.Factor.bottom">
<code class="descname">bottom</code><span class="sig-paren">(</span><em>N</em>, <em>mask=sentinel('NotSpecified')</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/factors/factor.html#Factor.bottom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.factors.Factor.bottom" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a Filter matching the bottom N asset values of self each day.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>N</strong> : int</p>
<blockquote>
<div><p>Number of assets passing the returned filter each day.</p>
</div></blockquote>
<p><strong>mask</strong> : zipline.pipeline.Filter, optional</p>
<blockquote>
<div><p>A Filter representing assets to consider when computing ranks.
If mask is supplied, bottom values are computed ignoring any
asset/date pairs for which <cite>mask</cite> produces a value of False.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>filter</strong> : zipline.pipeline.Filter</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.factors.Factor.percentile_between">
<code class="descname">percentile_between</code><span class="sig-paren">(</span><em>min_percentile</em>, <em>max_percentile</em>, <em>mask=sentinel('NotSpecified')</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/factors/factor.html#Factor.percentile_between"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.factors.Factor.percentile_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new Filter representing entries from the output of this
Factor that fall within the percentile range defined by min_percentile
and max_percentile.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>min_percentile</strong> : float [0.0, 100.0]</p>
<blockquote>
<div><p>Return True for assets falling above this percentile in the data.</p>
</div></blockquote>
<p><strong>max_percentile</strong> : float [0.0, 100.0]</p>
<blockquote>
<div><p>Return True for assets falling below this percentile in the data.</p>
</div></blockquote>
<p><strong>mask</strong> : zipline.pipeline.Filter, optional</p>
<blockquote>
<div><p>A Filter representing assets to consider when percentile
thresholds.  If mask is supplied, percentile cutoffs are computed
each day using only assets for which <cite>mask</cite> returns True, and
assets not passing <cite>mask</cite> will produce False in the output of this
filter as well.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>out</strong> : zipline.pipeline.filters.PercentileFilter</p>
<blockquote class="last">
<div><p>A new filter that will compute the specified percentile-range mask.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><code class="xref py py-obj docutils literal"><span class="pre">zipline.pipeline.filters.filter.PercentileFilter</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.factors.Factor.isnan">
<code class="descname">isnan</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/factors/factor.html#Factor.isnan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.factors.Factor.isnan" title="Permalink to this definition">¶</a></dt>
<dd><p>A Filter producing True for all values where this Factor is NaN.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>nanfilter</strong> : zipline.pipeline.filters.Filter</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.factors.Factor.notnan">
<code class="descname">notnan</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/factors/factor.html#Factor.notnan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.factors.Factor.notnan" title="Permalink to this definition">¶</a></dt>
<dd><p>A Filter producing True for values where this Factor is not NaN.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><strong>nanfilter</strong> : zipline.pipeline.filters.Filter</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.factors.Factor.isfinite">
<code class="descname">isfinite</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/factors/factor.html#Factor.isfinite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.factors.Factor.isfinite" title="Permalink to this definition">¶</a></dt>
<dd><p>A Filter producing True for values where this Factor is anything but
NaN, inf, or -inf.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.factors.Factor.__add__">
<code class="descname">__add__</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.pipeline.factors.Factor.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Binary Operator: &#8216;+&#8217;</p>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.factors.Factor.__div__">
<code class="descname">__div__</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.pipeline.factors.Factor.__div__" title="Permalink to this definition">¶</a></dt>
<dd><p>Binary Operator: &#8216;/&#8217;</p>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.factors.Factor.__ge__">
<code class="descname">__ge__</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.pipeline.factors.Factor.__ge__" title="Permalink to this definition">¶</a></dt>
<dd><p>Binary Operator: &#8216;&gt;=&#8217;</p>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.factors.Factor.__gt__">
<code class="descname">__gt__</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.pipeline.factors.Factor.__gt__" title="Permalink to this definition">¶</a></dt>
<dd><p>Binary Operator: &#8216;&gt;&#8217;</p>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.factors.Factor.__le__">
<code class="descname">__le__</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.pipeline.factors.Factor.__le__" title="Permalink to this definition">¶</a></dt>
<dd><p>Binary Operator: &#8216;&lt;=&#8217;</p>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.factors.Factor.__lt__">
<code class="descname">__lt__</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.pipeline.factors.Factor.__lt__" title="Permalink to this definition">¶</a></dt>
<dd><p>Binary Operator: &#8216;&lt;&#8217;</p>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.factors.Factor.__mod__">
<code class="descname">__mod__</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.pipeline.factors.Factor.__mod__" title="Permalink to this definition">¶</a></dt>
<dd><p>Binary Operator: &#8216;%&#8217;</p>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.factors.Factor.__mul__">
<code class="descname">__mul__</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.pipeline.factors.Factor.__mul__" title="Permalink to this definition">¶</a></dt>
<dd><p>Binary Operator: &#8216;*&#8217;</p>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.factors.Factor.__ne__">
<code class="descname">__ne__</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.pipeline.factors.Factor.__ne__" title="Permalink to this definition">¶</a></dt>
<dd><p>Binary Operator: &#8216;!=&#8217;</p>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.factors.Factor.__pow__">
<code class="descname">__pow__</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.pipeline.factors.Factor.__pow__" title="Permalink to this definition">¶</a></dt>
<dd><p>Binary Operator: &#8216;**&#8217;</p>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.factors.Factor.__sub__">
<code class="descname">__sub__</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.pipeline.factors.Factor.__sub__" title="Permalink to this definition">¶</a></dt>
<dd><p>Binary Operator: &#8216;-&#8216;</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zipline.pipeline.factors.Latest">
<em class="property">class </em><code class="descclassname">zipline.pipeline.factors.</code><code class="descname">Latest</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/factors/latest.html#Latest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.factors.Latest" title="Permalink to this definition">¶</a></dt>
<dd><p>Factor producing the most recently-known value of <cite>inputs[0]</cite> on each day.</p>
</dd></dl>

<dl class="class">
<dt id="zipline.pipeline.factors.MaxDrawdown">
<em class="property">class </em><code class="descclassname">zipline.pipeline.factors.</code><code class="descname">MaxDrawdown</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/factors/technical.html#MaxDrawdown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.factors.MaxDrawdown" title="Permalink to this definition">¶</a></dt>
<dd><p>Max Drawdown</p>
<p><strong>Default Inputs:</strong> None</p>
<p><strong>Default Window Length:</strong> None</p>
</dd></dl>

<dl class="class">
<dt id="zipline.pipeline.factors.Returns">
<em class="property">class </em><code class="descclassname">zipline.pipeline.factors.</code><code class="descname">Returns</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/factors/technical.html#Returns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.factors.Returns" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the percent change in close price over the given window_length.</p>
<p><strong>Default Inputs</strong>: [USEquityPricing.close]</p>
</dd></dl>

<dl class="class">
<dt id="zipline.pipeline.factors.RSI">
<em class="property">class </em><code class="descclassname">zipline.pipeline.factors.</code><code class="descname">RSI</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/factors/technical.html#RSI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.factors.RSI" title="Permalink to this definition">¶</a></dt>
<dd><p>Relative Strength Index</p>
<p><strong>Default Inputs</strong>: [USEquityPricing.close]</p>
<p><strong>Default Window Length</strong>: 15</p>
</dd></dl>

<dl class="class">
<dt id="zipline.pipeline.factors.BusinessDaysUntilNextEarnings">
<em class="property">class </em><code class="descclassname">zipline.pipeline.factors.</code><code class="descname">BusinessDaysUntilNextEarnings</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/factors/events.html#BusinessDaysUntilNextEarnings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.factors.BusinessDaysUntilNextEarnings" title="Permalink to this definition">¶</a></dt>
<dd><p>Factor returning the number of <strong>business days</strong> (not trading days!) until
the next known earnings date for each asset.</p>
<p>This doesn&#8217;t use trading days because the trading calendar includes
information that may not have been available to the algorithm at the time
when <cite>compute</cite> is called.</p>
<p>For example, the NYSE closings September 11th 2001, would not have been
known to the algorithm on September 10th.</p>
<p>Assets that announced or will announce earnings today will produce a value
of 0.0.  Assets that will announce earnings on the next upcoming business
day will produce a value of 1.0.</p>
<p>Assets for which <cite>EarningsCalendar.next_announcement</cite> is <cite>NaT</cite> will produce
a value of <cite>NaN</cite>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#zipline.pipeline.factors.BusinessDaysSincePreviousEarnings" title="zipline.pipeline.factors.BusinessDaysSincePreviousEarnings"><code class="xref py py-obj docutils literal"><span class="pre">zipline.pipeline.factors.BusinessDaysSincePreviousEarnings</span></code></a></p>
</div>
</dd></dl>

<dl class="class">
<dt id="zipline.pipeline.factors.BusinessDaysSincePreviousEarnings">
<em class="property">class </em><code class="descclassname">zipline.pipeline.factors.</code><code class="descname">BusinessDaysSincePreviousEarnings</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/factors/events.html#BusinessDaysSincePreviousEarnings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.factors.BusinessDaysSincePreviousEarnings" title="Permalink to this definition">¶</a></dt>
<dd><p>Factor returning the number of <strong>business days</strong> (not trading days!) since
the most recent earnings date for each asset.</p>
<p>This doesn&#8217;t use trading days for symmetry with
BusinessDaysUntilNextEarnings.</p>
<p>Assets which announced or will announce earnings today will produce a value
of 0.0.  Assets that announced earnings on the previous business day will
produce a value of 1.0.</p>
<p>Assets for which <cite>EarningsCalendar.previous_announcement</cite> is <cite>NaT</cite> will
produce a value of <cite>NaN</cite>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#zipline.pipeline.factors.BusinessDaysUntilNextEarnings" title="zipline.pipeline.factors.BusinessDaysUntilNextEarnings"><code class="xref py py-obj docutils literal"><span class="pre">zipline.pipeline.factors.BusinessDaysUntilNextEarnings</span></code></a></p>
</div>
</dd></dl>

<dl class="class">
<dt id="zipline.pipeline.factors.SimpleMovingAverage">
<em class="property">class </em><code class="descclassname">zipline.pipeline.factors.</code><code class="descname">SimpleMovingAverage</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/factors/technical.html#SimpleMovingAverage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.factors.SimpleMovingAverage" title="Permalink to this definition">¶</a></dt>
<dd><p>Average Value of an arbitrary column</p>
<p><strong>Default Inputs</strong>: None</p>
<p><strong>Default Window Length</strong>: None</p>
</dd></dl>

<dl class="class">
<dt id="zipline.pipeline.factors.VWAP">
<em class="property">class </em><code class="descclassname">zipline.pipeline.factors.</code><code class="descname">VWAP</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/factors/technical.html#VWAP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.factors.VWAP" title="Permalink to this definition">¶</a></dt>
<dd><p>Volume Weighted Average Price</p>
<p><strong>Default Inputs:</strong> [USEquityPricing.close, USEquityPricing.volume]</p>
<p><strong>Default Window Length:</strong> None</p>
</dd></dl>

<dl class="class">
<dt id="zipline.pipeline.factors.WeightedAverageValue">
<em class="property">class </em><code class="descclassname">zipline.pipeline.factors.</code><code class="descname">WeightedAverageValue</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/factors/technical.html#WeightedAverageValue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.factors.WeightedAverageValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper for VWAP-like computations.</p>
<p><strong>Default Inputs:</strong> None</p>
<p><strong>Default Window Length:</strong> None</p>
</dd></dl>

<dl class="class">
<dt id="zipline.pipeline.factors.ExponentialWeightedMovingAverage">
<em class="property">class </em><code class="descclassname">zipline.pipeline.factors.</code><code class="descname">ExponentialWeightedMovingAverage</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/factors/technical.html#ExponentialWeightedMovingAverage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.factors.ExponentialWeightedMovingAverage" title="Permalink to this definition">¶</a></dt>
<dd><p>Exponentially Weighted Moving Average</p>
<p><strong>Default Inputs:</strong> None</p>
<p><strong>Default Window Length:</strong> None</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>inputs</strong> : length-1 list/tuple of BoundColumn</p>
<blockquote>
<div><p>The expression over which to compute the average.</p>
</div></blockquote>
<p><strong>window_length</strong> : int &gt; 0</p>
<blockquote>
<div><p>Length of the lookback window over which to compute the average.</p>
</div></blockquote>
<p><strong>decay_rate</strong> : float, 0 &lt; decay_rate &lt;= 1</p>
<blockquote class="last">
<div><p>Weighting factor by which to discount past observations.</p>
<p>When calculating historical averages, rows are multiplied by the
sequence:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">decay_rate</span><span class="p">,</span> <span class="n">decay_rate</span> <span class="o">**</span> <span class="mi">2</span><span class="p">,</span> <span class="n">decay_rate</span> <span class="o">**</span> <span class="mi">3</span><span class="p">,</span> <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.ewma.html#pandas.ewma" title="(in pandas v0.17.1)"><code class="xref py py-func docutils literal"><span class="pre">pandas.ewma()</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li>This class can also be imported under the name <code class="docutils literal"><span class="pre">EWMA</span></code>.</li>
</ul>
</dd></dl>

<dl class="class">
<dt id="zipline.pipeline.factors.ExponentialWeightedMovingStdDev">
<em class="property">class </em><code class="descclassname">zipline.pipeline.factors.</code><code class="descname">ExponentialWeightedMovingStdDev</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/factors/technical.html#ExponentialWeightedMovingStdDev"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.factors.ExponentialWeightedMovingStdDev" title="Permalink to this definition">¶</a></dt>
<dd><p>Exponentially Weighted Moving Standard Deviation</p>
<p><strong>Default Inputs:</strong> None</p>
<p><strong>Default Window Length:</strong> None</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>inputs</strong> : length-1 list/tuple of BoundColumn</p>
<blockquote>
<div><p>The expression over which to compute the average.</p>
</div></blockquote>
<p><strong>window_length</strong> : int &gt; 0</p>
<blockquote>
<div><p>Length of the lookback window over which to compute the average.</p>
</div></blockquote>
<p><strong>decay_rate</strong> : float, 0 &lt; decay_rate &lt;= 1</p>
<blockquote class="last">
<div><p>Weighting factor by which to discount past observations.</p>
<p>When calculating historical averages, rows are multiplied by the
sequence:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">decay_rate</span><span class="p">,</span> <span class="n">decay_rate</span> <span class="o">**</span> <span class="mi">2</span><span class="p">,</span> <span class="n">decay_rate</span> <span class="o">**</span> <span class="mi">3</span><span class="p">,</span> <span class="o">...</span>
</pre></div>
</div>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.ewmstd.html#pandas.ewmstd" title="(in pandas v0.17.1)"><code class="xref py py-func docutils literal"><span class="pre">pandas.ewmstd()</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<ul class="simple">
<li>This class can also be imported under the name <code class="docutils literal"><span class="pre">EWMSTD</span></code>.</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="zipline.pipeline.factors.DollarVolume">
<code class="descclassname">zipline.pipeline.factors.</code><code class="descname">DollarVolume</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/factors/technical.html#DollarVolume"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.factors.DollarVolume" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a Factor computing the product of most recent close price and
volume.</p>
</dd></dl>

<dl class="class">
<dt id="zipline.pipeline.filters.Filter">
<em class="property">class </em><code class="descclassname">zipline.pipeline.filters.</code><code class="descname">Filter</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/pipeline/filters/filter.html#Filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.filters.Filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Pipeline API expression producing boolean-valued outputs.</p>
<dl class="method">
<dt id="zipline.pipeline.filters.Filter.__and__">
<code class="descname">__and__</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.pipeline.filters.Filter.__and__" title="Permalink to this definition">¶</a></dt>
<dd><p>Binary Operator: &#8216;&amp;&#8217;</p>
</dd></dl>

<dl class="method">
<dt id="zipline.pipeline.filters.Filter.__or__">
<code class="descname">__or__</code><span class="sig-paren">(</span><em>other</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.pipeline.filters.Filter.__or__" title="Permalink to this definition">¶</a></dt>
<dd><p>Binary Operator: &#8216;|&#8217;</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zipline.pipeline.data.EarningsCalendar">
<em class="property">class </em><code class="descclassname">zipline.pipeline.data.</code><code class="descname">EarningsCalendar</code><a class="reference internal" href="_modules/zipline/pipeline/data/earnings.html#EarningsCalendar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.data.EarningsCalendar" title="Permalink to this definition">¶</a></dt>
<dd><p>Dataset representing dates of upcoming or recently announced earnings.</p>
<dl class="attribute">
<dt id="zipline.pipeline.data.EarningsCalendar.next_announcement">
<code class="descname">next_announcement</code><em class="property"> = EarningsCalendar.next_announcement::datetime64[ns]</em><a class="headerlink" href="#zipline.pipeline.data.EarningsCalendar.next_announcement" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zipline.pipeline.data.EarningsCalendar.previous_announcement">
<code class="descname">previous_announcement</code><em class="property"> = EarningsCalendar.previous_announcement::datetime64[ns]</em><a class="headerlink" href="#zipline.pipeline.data.EarningsCalendar.previous_announcement" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="zipline.pipeline.data.USEquityPricing">
<em class="property">class </em><code class="descclassname">zipline.pipeline.data.</code><code class="descname">USEquityPricing</code><a class="reference internal" href="_modules/zipline/pipeline/data/equity_pricing.html#USEquityPricing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.pipeline.data.USEquityPricing" title="Permalink to this definition">¶</a></dt>
<dd><p>Dataset representing daily trading prices and volumes.</p>
<dl class="attribute">
<dt id="zipline.pipeline.data.USEquityPricing.close">
<code class="descname">close</code><em class="property"> = USEquityPricing.close::float64</em><a class="headerlink" href="#zipline.pipeline.data.USEquityPricing.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zipline.pipeline.data.USEquityPricing.high">
<code class="descname">high</code><em class="property"> = USEquityPricing.high::float64</em><a class="headerlink" href="#zipline.pipeline.data.USEquityPricing.high" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zipline.pipeline.data.USEquityPricing.low">
<code class="descname">low</code><em class="property"> = USEquityPricing.low::float64</em><a class="headerlink" href="#zipline.pipeline.data.USEquityPricing.low" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zipline.pipeline.data.USEquityPricing.open">
<code class="descname">open</code><em class="property"> = USEquityPricing.open::float64</em><a class="headerlink" href="#zipline.pipeline.data.USEquityPricing.open" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="zipline.pipeline.data.USEquityPricing.volume">
<code class="descname">volume</code><em class="property"> = USEquityPricing.volume::float64</em><a class="headerlink" href="#zipline.pipeline.data.USEquityPricing.volume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="asset-metadata">
<h2>Asset Metadata<a class="headerlink" href="#asset-metadata" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="zipline.assets.assets.Asset">
<em class="property">class </em><code class="descclassname">zipline.assets.assets.</code><code class="descname">Asset</code><a class="headerlink" href="#zipline.assets.assets.Asset" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="zipline.assets.assets.Asset.first_traded">
<code class="descname">first_traded</code><a class="headerlink" href="#zipline.assets.assets.Asset.first_traded" title="Permalink to this definition">¶</a></dt>
<dd><p>first_traded: object</p>
</dd></dl>

<dl class="method">
<dt id="zipline.assets.assets.Asset.from_dict">
<code class="descname">from_dict</code><span class="sig-paren">(</span><em>type cls</em>, <em>dict_</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.assets.assets.Asset.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Build an Asset instance from a dict.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.assets.assets.Asset.to_dict">
<code class="descname">to_dict</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.assets.assets.Asset.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert to a python dict.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zipline.assets.assets.Equity">
<em class="property">class </em><code class="descclassname">zipline.assets.assets.</code><code class="descname">Equity</code><a class="headerlink" href="#zipline.assets.assets.Equity" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="zipline.assets.assets.Equity.security_end_date">
<code class="descname">security_end_date</code><a class="headerlink" href="#zipline.assets.assets.Equity.security_end_date" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATION: This property should be deprecated and is only present for
backwards compatibility</p>
</dd></dl>

<dl class="attribute">
<dt id="zipline.assets.assets.Equity.security_name">
<code class="descname">security_name</code><a class="headerlink" href="#zipline.assets.assets.Equity.security_name" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATION: This property should be deprecated and is only present for
backwards compatibility</p>
</dd></dl>

<dl class="attribute">
<dt id="zipline.assets.assets.Equity.security_start_date">
<code class="descname">security_start_date</code><a class="headerlink" href="#zipline.assets.assets.Equity.security_start_date" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATION: This property should be deprecated and is only present for
backwards compatibility</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zipline.assets.assets.Future">
<em class="property">class </em><code class="descclassname">zipline.assets.assets.</code><code class="descname">Future</code><a class="headerlink" href="#zipline.assets.assets.Future" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="zipline.assets.assets.Future.to_dict">
<code class="descname">to_dict</code><span class="sig-paren">(</span><em>self</em><span class="sig-paren">)</span><a class="headerlink" href="#zipline.assets.assets.Future.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert to a python dict.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zipline.assets.assets.AssetFinder">
<em class="property">class </em><code class="descclassname">zipline.assets.assets.</code><code class="descname">AssetFinder</code><span class="sig-paren">(</span><em>engine</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/assets/assets.html#AssetFinder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.assets.assets.AssetFinder" title="Permalink to this definition">¶</a></dt>
<dd><p>An AssetFinder is an interface to a database of Asset metadata written by
an <code class="docutils literal"><span class="pre">AssetDBWriter</span></code>.</p>
<p>This class provides methods for looking up assets by unique integer id or
by symbol.  For historical reasons, we refer to these unique ids as &#8216;sids&#8217;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>engine</strong> : str or SQLAlchemy.engine</p>
<blockquote class="last">
<div><p>An engine with a connection to the asset database to use, or a string
that can be parsed by SQLAlchemy as a URI.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#zipline.assets.asset_writer.AssetDBWriter" title="zipline.assets.asset_writer.AssetDBWriter"><code class="xref py py-class docutils literal"><span class="pre">zipline.assets.asset_writer.AssetDBWriter</span></code></a></p>
</div>
<dl class="method">
<dt id="zipline.assets.assets.AssetFinder.group_by_type">
<code class="descname">group_by_type</code><span class="sig-paren">(</span><em>sids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/assets/assets.html#AssetFinder.group_by_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.assets.assets.AssetFinder.group_by_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Group a list of sids by asset type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sids</strong> : list[int]</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>types</strong> : dict[str or None -&gt; list[int]]</p>
<blockquote class="last">
<div><p>A dict mapping unique asset types to lists of sids drawn from sids.
If we fail to look up an asset, we assign it a key of None.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zipline.assets.assets.AssetFinder.lifetimes">
<code class="descname">lifetimes</code><span class="sig-paren">(</span><em>dates</em>, <em>include_start_date</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/assets/assets.html#AssetFinder.lifetimes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.assets.assets.AssetFinder.lifetimes" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute a DataFrame representing asset lifetimes for the specified date
range.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>dates</strong> : pd.DatetimeIndex</p>
<blockquote>
<div><p>The dates for which to compute lifetimes.</p>
</div></blockquote>
<p><strong>include_start_date</strong> : bool</p>
<blockquote>
<div><p>Whether or not to count the asset as alive on its start_date.</p>
<p>This is useful in a backtesting context where <cite>lifetimes</cite> is being
used to signify &#8220;do I have data for this asset as of the morning of
this date?&#8221;  For many financial metrics, (e.g. daily close), data
isn&#8217;t available for an asset until the end of the asset&#8217;s first
day.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>lifetimes</strong> : pd.DataFrame</p>
<blockquote class="last">
<div><p>A frame of dtype bool with <cite>dates</cite> as index and an Int64Index of
assets as columns.  The value at <cite>lifetimes.loc[date, asset]</cite> will
be True iff <cite>asset</cite> existed on <cite>date</cite>.  If <cite>include_start_date</cite> is
False, then lifetimes.loc[date, asset] will be false when date ==
asset.start_date.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.putmask.html#numpy.putmask" title="(in NumPy v1.10)"><code class="xref py py-obj docutils literal"><span class="pre">numpy.putmask</span></code></a>, <code class="xref py py-obj docutils literal"><span class="pre">zipline.pipeline.engine.SimplePipelineEngine._compute_root_mask</span></code></p>
</div>
</dd></dl>

<dl class="method">
<dt id="zipline.assets.assets.AssetFinder.lookup_asset_types">
<code class="descname">lookup_asset_types</code><span class="sig-paren">(</span><em>sids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/assets/assets.html#AssetFinder.lookup_asset_types"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.assets.assets.AssetFinder.lookup_asset_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve asset types for a list of sids.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sids</strong> : list[int]</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>types</strong> : dict[sid -&gt; str or None]</p>
<blockquote class="last">
<div><p>Asset types for the provided sids.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zipline.assets.assets.AssetFinder.lookup_future_chain">
<code class="descname">lookup_future_chain</code><span class="sig-paren">(</span><em>root_symbol</em>, <em>as_of_date</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/assets/assets.html#AssetFinder.lookup_future_chain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.assets.assets.AssetFinder.lookup_future_chain" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the futures chain for a given root symbol.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>root_symbol</strong> : str</p>
<blockquote>
<div><p>Root symbol of the desired future.</p>
</div></blockquote>
<p><strong>as_of_date</strong> : pd.Timestamp or pd.NaT</p>
<blockquote>
<div><p>Date at which the chain determination is rooted. I.e. the
existing contract whose notice date/expiration date is first
after this date is the primary contract, etc. If NaT is
given, the chain is unbounded, and all contracts for this
root symbol are returned.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list</p>
<blockquote>
<div><p>A list of Future objects, the chain for the given
parameters.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><strong>RootSymbolNotFound</strong></p>
<blockquote class="last">
<div><p>Raised when a future chain could not be found for the given
root symbol.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zipline.assets.assets.AssetFinder.lookup_future_symbol">
<code class="descname">lookup_future_symbol</code><span class="sig-paren">(</span><em>symbol</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/assets/assets.html#AssetFinder.lookup_future_symbol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.assets.assets.AssetFinder.lookup_future_symbol" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Future object for a given symbol.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>symbol</strong> : str</p>
<blockquote>
<div><p>The symbol of the desired contract.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Future</p>
<blockquote>
<div><p>A Future object.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><strong>SymbolNotFound</strong></p>
<blockquote class="last">
<div><p>Raised when no contract named &#8216;symbol&#8217; is found.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zipline.assets.assets.AssetFinder.lookup_generic">
<code class="descname">lookup_generic</code><span class="sig-paren">(</span><em>asset_convertible_or_iterable</em>, <em>as_of_date</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/assets/assets.html#AssetFinder.lookup_generic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.assets.assets.AssetFinder.lookup_generic" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a AssetConvertible or iterable of AssetConvertibles into
a list of Asset objects.</p>
<p>This method exists primarily as a convenience for implementing
user-facing APIs that can handle multiple kinds of input.  It should
not be used for internal code where we already know the expected types
of our inputs.</p>
<p>Returns a pair of objects, the first of which is the result of the
conversion, and the second of which is a list containing any values
that couldn&#8217;t be resolved.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.assets.assets.AssetFinder.lookup_symbol">
<code class="descname">lookup_symbol</code><span class="sig-paren">(</span><em>symbol</em>, <em>as_of_date</em>, <em>fuzzy=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/assets/assets.html#AssetFinder.lookup_symbol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.assets.assets.AssetFinder.lookup_symbol" title="Permalink to this definition">¶</a></dt>
<dd><p>Return matching Equity of name symbol in database.</p>
<p>If multiple Equities are found and as_of_date is not set,
raises MultipleSymbolsFound.</p>
<p>If no Equity was active at as_of_date raises SymbolNotFound.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.assets.assets.AssetFinder.map_identifier_index_to_sids">
<code class="descname">map_identifier_index_to_sids</code><span class="sig-paren">(</span><em>index</em>, <em>as_of_date</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/assets/assets.html#AssetFinder.map_identifier_index_to_sids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.assets.assets.AssetFinder.map_identifier_index_to_sids" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is for use in sanitizing a user&#8217;s DataFrame or Panel
inputs.</p>
<p>Takes the given index of identifiers, checks their types, builds assets
if necessary, and returns a list of the sids that correspond to the
input index.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>index</strong> : Iterable</p>
<blockquote>
<div><p>An iterable containing ints, strings, or Assets</p>
</div></blockquote>
<p><strong>as_of_date</strong> : pandas.Timestamp</p>
<blockquote>
<div><p>A date to be used to resolve any dual-mapped symbols</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List</p>
<blockquote class="last">
<div><p>A list of integer sids corresponding to the input index</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zipline.assets.assets.AssetFinder.retrieve_all">
<code class="descname">retrieve_all</code><span class="sig-paren">(</span><em>sids</em>, <em>default_none=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/assets/assets.html#AssetFinder.retrieve_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.assets.assets.AssetFinder.retrieve_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve all assets in <cite>sids</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sids</strong> : interable of int</p>
<blockquote>
<div><p>Assets to retrieve.</p>
</div></blockquote>
<p><strong>default_none</strong> : bool</p>
<blockquote>
<div><p>If True, return None for failed lookups.
If False, raise <cite>SidsNotFound</cite>.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>assets</strong> : list[int or None]</p>
<blockquote>
<div><p>A list of the same length as <cite>sids</cite> containing Assets (or Nones)
corresponding to the requested sids.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><strong>SidsNotFound</strong></p>
<blockquote class="last">
<div><p>When a requested sid is not found and default_none=False.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zipline.assets.assets.AssetFinder.retrieve_asset">
<code class="descname">retrieve_asset</code><span class="sig-paren">(</span><em>sid</em>, <em>default_none=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/assets/assets.html#AssetFinder.retrieve_asset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.assets.assets.AssetFinder.retrieve_asset" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the Asset for a given sid.</p>
</dd></dl>

<dl class="method">
<dt id="zipline.assets.assets.AssetFinder.retrieve_equities">
<code class="descname">retrieve_equities</code><span class="sig-paren">(</span><em>sids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/assets/assets.html#AssetFinder.retrieve_equities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.assets.assets.AssetFinder.retrieve_equities" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve Equity objects for a list of sids.</p>
<p>Users generally shouldn&#8217;t need to this method (instead, they should
prefer the more general/friendly <cite>retrieve_assets</cite>), but it has a
documented interface and tests because it&#8217;s used upstream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sids</strong> : iterable[int]</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>equities</strong> : dict[int -&gt; Equity]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><strong>EquitiesNotFound</strong></p>
<blockquote class="last">
<div><p>When any requested asset isn&#8217;t found.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zipline.assets.assets.AssetFinder.retrieve_futures_contracts">
<code class="descname">retrieve_futures_contracts</code><span class="sig-paren">(</span><em>sids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/assets/assets.html#AssetFinder.retrieve_futures_contracts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.assets.assets.AssetFinder.retrieve_futures_contracts" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve Future objects for an iterable of sids.</p>
<p>Users generally shouldn&#8217;t need to this method (instead, they should
prefer the more general/friendly <cite>retrieve_assets</cite>), but it has a
documented interface and tests because it&#8217;s used upstream.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>sids</strong> : iterable[int]</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>equities</strong> : dict[int -&gt; Equity]</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><strong>EquitiesNotFound</strong></p>
<blockquote class="last">
<div><p>When any requested asset isn&#8217;t found.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zipline.assets.assets.AssetFinderCachedEquities">
<em class="property">class </em><code class="descclassname">zipline.assets.assets.</code><code class="descname">AssetFinderCachedEquities</code><span class="sig-paren">(</span><em>engine</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/assets/assets.html#AssetFinderCachedEquities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.assets.assets.AssetFinderCachedEquities" title="Permalink to this definition">¶</a></dt>
<dd><p>An extension to AssetFinder that loads all equities from equities table
into memory and overrides the methods that lookup_symbol uses to look up
those equities.</p>
</dd></dl>

<dl class="class">
<dt id="zipline.assets.asset_writer.AssetDBWriter">
<em class="property">class </em><code class="descclassname">zipline.assets.asset_writer.</code><code class="descname">AssetDBWriter</code><span class="sig-paren">(</span><em>equities=None</em>, <em>futures=None</em>, <em>exchanges=None</em>, <em>root_symbols=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/assets/asset_writer.html#AssetDBWriter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.assets.asset_writer.AssetDBWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Class used to write arbitrary data to SQLite database.
Concrete subclasses will implement the logic for a specific
input datatypes by implementing the _load_data method.</p>
<p class="rubric">Methods</p>
<table border="1" class="docutils">
<colgroup>
<col width="52%" />
<col width="48%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>write_all(engine, allow_sid_assignment=True, constraints=False)</td>
<td>Write the data supplied at initialization to the database.</td>
</tr>
<tr class="row-even"><td>init_db(engine, constraints=False)</td>
<td>Create the SQLite tables (called by write_all).</td>
</tr>
<tr class="row-odd"><td>load_data()</td>
<td>Returns data in standard format.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="zipline.assets.asset_writer.AssetDBWriter.check_for_tables">
<code class="descname">check_for_tables</code><span class="sig-paren">(</span><em>engine</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/assets/asset_writer.html#AssetDBWriter.check_for_tables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.assets.asset_writer.AssetDBWriter.check_for_tables" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if any tables are present in the current assets database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">bool</p>
<blockquote class="last">
<div><p>True if any tables are present, otherwise False.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zipline.assets.asset_writer.AssetDBWriter.init_db">
<code class="descname">init_db</code><span class="sig-paren">(</span><em>engine</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/assets/asset_writer.html#AssetDBWriter.init_db"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.assets.asset_writer.AssetDBWriter.init_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect to database and create tables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>engine</strong> : Engine</p>
<blockquote>
<div><p>An engine to a SQL database.</p>
</div></blockquote>
<p><strong>constraints</strong> : bool, optional</p>
<blockquote class="last">
<div><p>If True, create SQL ForeignKey and PrimaryKey constraints.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="zipline.assets.asset_writer.AssetDBWriter.load_data">
<code class="descname">load_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/assets/asset_writer.html#AssetDBWriter.load_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.assets.asset_writer.AssetDBWriter.load_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a standard set of pandas.DataFrames:
equities, futures, exchanges, root_symbols</p>
</dd></dl>

<dl class="method">
<dt id="zipline.assets.asset_writer.AssetDBWriter.write_all">
<code class="descname">write_all</code><span class="sig-paren">(</span><em>engine</em>, <em>allow_sid_assignment=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/zipline/assets/asset_writer.html#AssetDBWriter.write_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.assets.asset_writer.AssetDBWriter.write_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Write pre-supplied data to SQLite.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>engine</strong> : Engine</p>
<blockquote>
<div><p>An SQLAlchemy engine to a SQL database.</p>
</div></blockquote>
<p><strong>allow_sid_assignment: bool, optional</strong></p>
<blockquote>
<div><p>If True then the class can assign sids where necessary.</p>
</div></blockquote>
<p><strong>constraints</strong> : bool, optional</p>
<blockquote class="last">
<div><p>If True then create SQL ForeignKey and PrimaryKey constraints.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="zipline.assets.assets.AssetConvertible">
<em class="property">class </em><code class="descclassname">zipline.assets.assets.</code><code class="descname">AssetConvertible</code><a class="reference internal" href="_modules/zipline/assets/assets.html#AssetConvertible"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#zipline.assets.assets.AssetConvertible" title="Permalink to this definition">¶</a></dt>
<dd><p>ABC for types that are convertible to integer-representations of
Assets.</p>
<p>Includes Asset, six.string_types, and Integral</p>
</dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="release-process.html" class="btn btn-neutral float-right" title="Zipline Release Process" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="releases.html" class="btn btn-neutral" title="Release Notes" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Quantopian Inc..
    </p>
  </div>

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'v0.8.3+170.g8abef95',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>